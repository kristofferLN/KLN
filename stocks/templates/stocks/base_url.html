<!DOCTYPE html>
{% load dict_extras %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- Wrapper-boks for Seneste Nyt -->
<div style="
    width: 100%;
    max-width: 800px;
    margin: 0 auto;
    padding: 15px;
    border: 1px solid #ccc;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    background-color: #fff;
    margin-bottom: 20px;
">

    <!-- Sektionstitel -->
    <h2 style="margin-top:0; margin-bottom:10px; font-size: 18px; font-weight: bold;">Seneste Nyt</h2>

    <!-- Nyhedsindhold -->
    <ul style="padding-left: 20px; margin: 0; list-style-type: disc;">
        <li>Vestas har underskrevet en aftale om levering af 85 vindmøller til et nyt havvindprojekt i Nordsøen</li>
        <li>Novo Nordisk hæver forventningerne til årets omsætning efter stærkt salg af diabetes- og fedmeprodukter i USA og EU</li>
        <li>Netcompany har sikret sig en fireårig kontrakt med en nordisk myndighed om udvikling af ny selvbetjeningsplatform.</li>
        {% for nyhed in seneste_nyt %}
        <li style="margin-bottom: 5px;">
            <strong>{{ nyhed.titel }}</strong><br>
            <span style="font-size: 12px; color: #555;">{{ nyhed.dato|date:"d/m/Y" }}</span><br>
            <span>{{ nyhed.brødtekst }}</span>
        </li>
        {% empty %}
        <li>Ingen nyheder tilgængelige.</li>
        {% endfor %}
        
    
    </ul>

</div>

{% if aktier %}
<div style="
    display: flex;
    border: 1px solid #ccc; 
    border-radius: 8px; 
    padding: 10px; 
    max-width: 1000px; 
    margin: 0 auto;
    gap: 20px;
">

    <!-- Venstre: Graf -->
    <div style="flex: 1;">

        <!-- Header -->
        <div style="
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        ">

            <!-- I fokus -->
            <div style="
                background-color: #ffd84d;
                padding: 4px 10px;
                border-radius: 6px;
                font-weight: bold;
                font-size: 14px;
            ">
                I fokus
            </div>

            <!-- Aktienavn + knapper -->
            <div style="display: flex; align-items: center; gap: 10px;">
                
                <p style="margin: 0; font-weight: bold; font-size: 16px;">
                    {{ aktier.17 }}
                </p>

                <div style="display: flex; gap: 5px;">
                    <button onclick="switchChart('1m')">1 måned</button>
                    <button onclick="switchChart('1y')">1 år</button>
                </div>

            </div>

        </div>

        <!-- Billedet -->
        <img id="chart-img" 
             src="{{ charts|dict_key:aktier.17|get_item:'1m' }}" 
             style="max-width:500px; width:100%; height:auto;">

    </div>

    <!-- Højre: Nyheder -->
    <div style="flex: 1; border-left: 1px solid #eee; padding-left: 15px;">
        <p style="font-weight: bold; margin-bottom: 12px;">Nyheder</p>
        <ul style="padding-left: 20px; margin: 0; font-size: 11px;">
            {% for nyhed in fokus_data %}
            <li>{{ nyhed }}</li>
            {% endfor %}
        </ul>
    </div>

</div>

<script>
    const chartsJS = {{ charts|safe }};
    const aktie = '{{ aktier.17 }}';

    function switchChart(period) {
        document.getElementById('chart-img').src = chartsJS[aktie][period];
    }
</script>
{% endif %}







<div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 15px; max-width: 800px; margin: 0 auto 20px auto;">
    {% for aktie in aktier %}
    <div style="border: 1px solid #ccc; border-radius: 8px; padding: 10px; text-align: center;">
        <img src="{{ MEDIA_URL }}{{ charts|dict_key:aktie }}">
        <p style="margin: 0; font-weight: bold; font-size: 9px;">{{ aktie }}</p> 

    </div>
    {% endfor %}
</div>
</body>
</html>


